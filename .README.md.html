<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>/home/shangwei/git/angel/.README.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1 align="center"> <a id="-----instructions-for-fundamental-testing-on-angel-" class="anchor" href="#-----instructions-for-fundamental-testing-on-angel-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a> <a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a> Instructions for fundamental testing on angel </h1> 
<p align="center"> <b><a href="#overview">Overview</a></b> | <b><a href="#table-of-contents">Table of contents</a></b> | <b><a href="#preparing-for-testing">Preparing for testing</a></b> | <b><a href="#system-architecture">System architecture</a></b> | <b><a href="#module-test">Module test</a></b> | <b><a href="#function-test">Function test</a></b> | <b><a href="#team">Team</a></b> | <b><a href="#license">License</a></b> </p> 
<h2> <a id="overview" class="anchor" href="#overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h2> 
<p>This is a guiding repository that gives you basic instructions to test and drive our robot system, <strong>angel</strong> for this case. Required firmwares and programs are all included in this repository. <strong>Please go through this document very carefully.</strong> In addition, this repository is also designated to store angel's design files, including system block diagram, schematic of electronic components and CAD files, etc. They are placed in the <strong>/hardware_design</strong> folder. </p> 
<h2> <a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of contents</h2> 
<ul> 
 <li><a href="#preparing-for-testing"><strong>Preparing for testing</strong></a></li> 
 <li><a href="#system-architecture"><strong>System architecture</strong></a></li> 
 <li> <a href="#module-test"><strong>Module test</strong></a> 
  <ul> 
   <li> <a href="#base-driving-test"><strong>Base driving test</strong></a> 
    <ul> 
     <li><a href="#step1-check-hardware-setups-for-base-driving"><strong>Step 1 Check hardware setups for base driving</strong></a></li> 
     <li><a href="#step-2-upload-firmware-to-3in1-board"><strong>Step 2 Upload firmware to 3in1 board</strong></a></li> 
     <li><a href="#step-3-upload-firmware-to-mega2560"><strong>Step 3 Upload firmware to mega2560</strong></a></li> 
     <li><a href="#step-4-drive-angel-base"><strong>Step 4 Drive angel base</strong></a></li> 
    </ul> </li> 
   <li> <a href="#laser-scanning-test"><strong>Laser scanning test</strong></a> 
    <ul> 
     <li><a href="#step-1-check-hardware-setup-for-laser-scanning"><strong>Step 1 Check hardware setup for laser scanning</strong></a></li> 
     <li><a href="#step-2-launch-rplidar-driver"><strong>Step 2 Launch rplidar driver</strong></a></li> 
    </ul> </li> 
   <li> <a href="#camera-joint-control-test"><strong>Camera Joint control test. To be continue ...</strong></a> 
    <ul> 
     <li><a href="#step-1-check-hardware-setup-to-control-camera's-heading"><strong>Step 1 Check hardware setup to control camera's heading</strong></a></li> 
     <li><a href="#step-2-upload-firmware-to-camera-joint-driver-3in1%20board"><strong>Step 2 Uploading firmware to camera joint driver 3in1 board</strong></a></li> 
     <li><a href="#step-3-control-camera's-heading"><strong>Step 3 Control camera's heading</strong></a></li> 
    </ul> </li> 
   <li> <a href="#security-sensing-test"><strong>Security Sensing test. To be continue ...</strong></a> 
    <ul> 
     <li><a href="#step-1-check-sensor-setup"><strong>Step 1 Check sensor setup</strong></a></li> 
     <li><a href="#step-2-read-each-sensor"><strong>Step 2 Read each sensor</strong></a></li> 
    </ul> </li> 
   <li> <a href="#camera-image-topic-test"><strong>Camera image topic test</strong></a> 
    <ul> 
     <li><a href="#step-1-check-camera-setup"><strong>Step 1 Check camera setup</strong></a></li> 
     <li> <a href="#step-2-run-camera-on-odroid"><strong>Step 2 Run camera on odroid</strong></a><br /> </li> 
    </ul> </li> 
  </ul> </li> 
 <li> <a href="#function-test"><strong>Function test</strong></a> 
  <ul> 
   <li> <a href="#tele-operation"><strong>Tele-operation</strong></a> 
    <ul> 
     <li><a href="#step-1-check-requirements-of-tele-operation"><strong>Step 1 Check requirements of tele-operation</strong></a></li> 
     <li><a href="#step-2-tele-operating-angel"><strong>Step 2 Tele-operating Angel</strong></a></li> 
    </ul> </li> 
   <li> <a href="#auto-docking"><strong>Auto docking. To be determine ...</strong></a> 
    <ul> 
     <li><a href="#step-1-check-docking-module-setup"><strong>Step 1 Check docking module setup</strong></a></li> 
     <li><a href="#step-2-launch-auto-docking-sequence"><strong>Step 2 Launch auto docking sequence</strong></a></li> 
    </ul> </li> 
  </ul> </li> 
 <li><a href="#appendix"><strong>Appendix</strong></a></li> 
</ul> 
<h2> <a id="preparing-for-testing" class="anchor" href="#preparing-for-testing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preparing for testing</h2> 
<ol> 
 <li><p>Prepare a cell phone installed &quot;teleop&quot; app provided from Software team. <a href="https://github.com/wennycooper/teleop_apk/raw/master/android_tutorial_teleop-debug.apk">https://github.com/wennycooper/teleop_apk/raw/master/android_tutorial_teleop-debug.apk</a></p></li> 
 <li><p>Prepare the SD/EMMC card provided from Software team and install on the odroid board.</p></li> 
 <li>Find a monitor and a HDMI cable and connect to odroid board.</li> 
 <li>Power on the odroid XU4 board and wait for ubuntu finishing starting.</li> 
 <li> <p>Check odroid IP address. </p> <p>Open a terminal and type the following command on odroid board.</p> <pre><code>ifconfig
</code></pre> <p>In our example, the IP address is <code>192.168.25.110</code> </p> </li> 
 <li> <p>Download this repository and compile it on odroid by going through the following steps.</p> <p>On a terminal, please type the following commands.</p> <pre><code>ssh odroid@[Odroid IP address]
cd ~/catkin_ws/src
git clone https://github.com/advancedroboticsaws/angel.git
cd ~/catkin_ws
catkin_make 
</code></pre> </li> 
 <li> <p><strong>Very important!</strong> Please go to the following page and make sure you have connected each component to the specified port on the hub.</p> <p><a href="https://github.com/Muchun-Yen/Assign-symbolic-links-for-auto-mounting-USB-devices-by-udev">https://github.com/Muchun-Yen/Assign-symbolic-links-for-auto-mounting-USB-devices-by-udev</a> </p> </li> 
</ol> 
<h2> <a id="system-architecture" class="anchor" href="#system-architecture" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>System architecture</h2> 
<p>This section gives you an overview on angel's design.</p> 
<p><strong>Note: All files related to angel's hardware design are placed in the folder <code>/hardware_design</code>.</strong> </p> 
<ul> 
 <li>Overall block diagram</li> 
</ul> 
<p><a href="doc/Angel%20system%20diagram.png" target="_blank"><img src="doc/Angel%20system%20diagram.png" alt="System" style="max-width:100%;" /></a></p> 
<ul> 
 <li><p>Specifications -- not available yet</p></li> 
 <li><p>Detailed wiring schematics -- not available yet </p></li> 
 <li><p>Schematic of DC motor driver board <code>3in1 board</code></p></li> 
</ul> 
<p><a href="doc/3in1%20board-1st.jpg" target="_blank"><img src="doc/3in1%20board-1st.jpg" alt="3in1 board-1" style="max-width:100%;" /></a></p> 
<p><a href="doc/3in1%20board-2nd.jpg" target="_blank"><img src="doc/3in1%20board-2nd.jpg" alt="3in1 board-2" style="max-width:100%;" /></a></p> 
<h2> <a id="module-test" class="anchor" href="#module-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Module test</h2> 
<p>Here, we separate Angel into several modules. </p> 
<p align="center"> <b><a href="#base-driving-test">Base driving test</a></b> | <b><a href="#laser-scan-test">Laser scan test</a></b> | <b><a href="#camera-joint-test">Camera joint test</a></b> | <b><a href="#security-sensing-test">Security Sensing test</a></b> | <b><a href="#camera-image-topic-test">Camera image topic test</a></b> </p> 
<h3> <a id="base-driving-test" class="anchor" href="#base-driving-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Base driving test</h3> 
<p><a name="user-content-base-driving-test-step1"></a></p> 
<h4> <a id="step-1-check-hardware-setups-for-base-driving" class="anchor" href="#step-1-check-hardware-setups-for-base-driving" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check hardware setups for base driving</code> </h4> 
<p>Check all the hardware setup !!</p> 
<p>Here we regard motor control module as a motor <strong>JGB37 3530B</strong> + driver <strong>3in1 board</strong>. Also, both motor control module for each wheel must be connected to mega2560.</p> 
<p>Mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Check your motor model. Make sure you have installed the right one.</li> 
 <li>[ ] Motor control modules are well prepared. Each motor connects to their driver correctly.</li> 
 <li>[ ] Motor control module for <strong>left wheel</strong> connects to mega2560 correctly.<br /> </li> 
 <li>[ ] Motor control module for <strong>right wheel</strong> connects to mega2560 correctly. </li> 
</ul> 
<p><strong>Note: If you have any doubt or not sure the hardware wirings, please review system diagrams and double check before going to the next step.</strong></p> 
<p>Having finished the first step, you are about to make wheels spin. There are two control boards that should have firmwares uploaded, <strong>mega2560 &amp; 3in1 board</strong>. </p> 
<p><a name="user-content-base-driving-test-step2"></a></p> 
<h4> <a id="step-2-upload-firmware-to-3in1-board" class="anchor" href="#step-2-upload-firmware-to-3in1-board" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Upload firmware to 3in1 board</code> </h4> 
<p>Firmware for each wheel's driver is inside the folder.</p> 
<pre><code>/mcu_control/base_control/vnh5019_base/src
</code></pre> 
<ul> 
 <li> <p>Upload firmware to left/right wheel</p> 
  <ol> 
   <li>Open <code>vnh5019_base.ino</code> with Arduino IDE on your PC.</li> 
   <li><strong>Important! Please go to line 8 and 9. Uncomment one of these two lines according to which wheel you are about to do the uploading.</strong></li> 
   <li> <p>Modify Arduino PWM Frequency in Arduino IDE. </p> <p>Copy</p> <pre><code>/mcu_control/wiring.c
</code></pre> <p>to ~/arduino-1.6.5/hardware/arduino/avr/cores/arduino.</p> <p>Make sure the following code is on line 31 or 32 in wiring.c. </p> <pre><code> #define MICROSECONDS_PER_TIMER0_OVERFLOW (clockCyclesToMicroseconds(8 * 256))
</code></pre> </li> 
   <li>Set your upload target to <strong>promini</strong>.</li> 
   <li>Choose your <strong>port</strong> carefully.</li> 
   <li> <p>Go for it! Click upload!</p> <p>If you get any error when uploading,</p> 
    <ul> 
     <li>Please look into the errors carefully.</li> 
     <li>Please check the port you choose.</li> 
    </ul> </li> 
   <li><p>Go through the steps above again <strong>for the other wheel</strong>.</p></li> 
  </ol> </li> 
</ul> 
<p><a name="user-content-base-driving-test-step3"></a></p> 
<h4> <a id="step-3-upload-firmware-to-mega2560" class="anchor" href="#step-3-upload-firmware-to-mega2560" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 3 <code>Upload firmware to mega2560</code> </h4> 
<p>Firmware for mega2560 is inside the following folder.</p> 
<pre><code>/mcu_control/base_control/mega_base_ultrasonic_angelbot/src
</code></pre> 
<ul> 
 <li> <p>Upload firmware to mega2560</p> 
  <ol> 
   <li>Open <code>mega_base_ultrasonic_angelbot.ino</code> with Arduino IDE on your PC.</li> 
   <li> <p>Libraries for this firmware is placed in </p> <pre><code>/mcu_control/mega_base_ultrasonic_angelbot/lib
</code></pre> <p>Copy all the contents inside and paste them to <code>/%document%/arduino/libraries</code> folder on your PC.</p> </li> 
   <li> <p>Make sure the following code is on line 31 or 32 in wiring.c. </p> <pre><code> #define MICROSECONDS_PER_TIMER0_OVERFLOW (clockCyclesToMicroseconds(8 * 256))
</code></pre> <p>If you don't understand this step, please refer to step 2 Upload firmware to 3in1 board above to find out. </p> </li> 
   <li>Set your upload target to <strong>mega2560</strong>.</li> 
   <li>Choose your <strong>port</strong> carefully.</li> 
   <li>Go for it! Click upload! If you get any error when PC uploading, 
    <ul> 
     <li>Please look into the errors carefully.</li> 
     <li>Please check the port you choose.</li> 
     <li>Please make sure you have put all the libraries into the Arduino's library folder. If you get the message about library conflicts, please find out those files and delete the old one.<br /> </li> 
    </ul> </li> 
  </ol> </li> 
</ul> 
<p><a name="user-content-base-driving-test-step4"></a></p> 
<h4> <a id="step-4-drive-angel-base" class="anchor" href="#step-4-drive-angel-base" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 4 <code>Drive angel base</code> </h4> 
<ol> 
 <li> <p>Open a terminal on you PC and type</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> <p>to access to angel.</p> </li> 
 <li> <p>Launch base driver. Type the following command.</p> <pre><code>roslaunch angelbot angelbot_sanitytest.launch
</code></pre> <p>check and make sure there is no error message pops up.</p> </li> 
 <li> <p>Open another terminal and access into odroid by entering ssh commands (step1) then type:</p> <pre><code>rostopic list
</code></pre> <p>Check and make sure the following two topics are on the list.</p> <pre><code>/cmd_wheel_angularVel
/feedback_wheel_angularVel  
</code></pre> </li> 
 <li> <p>Start driving wheels ony by one. </p> 
  <ul> 
   <li> <p>left wheel</p> 
    <ul> 
     <li> <p>forward direction</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 6.283 speed2: 0.0 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> 
      <ul> 
       <li>[ ] Check if left wheel is rotating in the forward direction <strong>same as the base's heading</strong>.</li> 
       <li>[ ] Check if left wheel is rotating at a speed of 6.283/s, which also means 1 rev/s.</li> 
      </ul> <p>Type the following to make it stop.</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: 0.0 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> </li> 
     <li> <p>backward direction</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: -6.283 speed2: 0.0 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> 
      <ul> 
       <li>[ ] Check if left wheel is rotating in the backward direction <strong>opposite to the base's heading</strong>.</li> 
       <li>[ ] Check if left wheel is rotating at a speed of 6.283/s, which also means 1 rev/s.</li> 
      </ul> <p>Type the following to make it stop.</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: 0.0 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> </li> 
    </ul> </li> 
   <li> <p>right wheel</p> 
    <ul> 
     <li> <p>forward direction</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: 6.283 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> 
      <ul> 
       <li>[ ] Check if left wheel is rotating in the forward direction <strong>same as the base's heading</strong>.</li> 
       <li>[ ] Check if left wheel is rotating at a speed of 6.283/s, which also means 1 rev/s.</li> 
      </ul> <p>Type the following to make it stop.</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: 0.0 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> </li> 
     <li> <p>backward direction</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: -6.283 driverstate: false&quot; 
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> 
      <ul> 
       <li>[ ] Check if left wheel is rotating in the backward direction <strong>opposite to the base's heading</strong>.</li> 
       <li>[ ] Check if left wheel is rotating at a speed of 6.283/s, which also means 1 rev/s.</li> 
      </ul> <p>Type the following to make it stop.</p> <pre><code>rostopic pub /cmd_wheel_angularVel angelbot/WheelCmd &quot;speed1: 0.0 speed2: 0.0 driverstate: false&quot;
</code></pre> <p>Enter <code>ctrl + c</code> to exit.</p> </li> 
    </ul> </li> 
  </ul> </li> 
 <li><p>If you have finished all the steps, type <code>ctrl + c</code> on all the terminal you have opened to exit.</p></li> 
</ol> 
<p align="right"> <b><a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a>End of base driving test</b> | <a href="#">BACK TO TOP</a> </p> 
<h3> <a id="laser-scanning-test" class="anchor" href="#laser-scanning-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Laser scanning test</h3> 
<p><a name="user-content-laser-scan-test-step1"></a></p> 
<h4> <a id="step-1-check-hardware-setups-for-laser-scanning" class="anchor" href="#step-1-check-hardware-setups-for-laser-scanning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check hardware setups for laser scanning</code> </h4> 
<p>The laser scanner we use is <strong>rplidar</strong>. To use it, the complete hardware setup should contain <strong>rplidar + data transmission board</strong>.</p> 
<p>Before going through the steps below, please mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Check your data transmission board. Make sure you installed the right one.</li> 
</ul> 
<p><strong>Note: If you have any doubt or not sure the hardware wirings, please review system diagrams or datasheet and double check before going to next step.</strong></p> 
<p><a name="user-content-laser-scan-test-step2"></a> </p> 
<h4> <a id="step-2-launch-rplidar-driver" class="anchor" href="#step-2-launch-rplidar-driver" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Launch rplidar driver</code> </h4> 
<p>This is to help you find out whether the rplidar you installed is functional and your hardware setup is correct.</p> 
<ul> 
 <li> <p>Launch laser scanner</p> 
  <ol> 
   <li> <p>Open a terminal on you PC and type</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> <p>to access to angel.</p> </li> 
   <li> <p>The next step should be starting communication between odroid and rplidar through ROS. Open another termimal and type:</p> <pre><code>roslaunch angelbot rplidar.lanuch 
</code></pre> <p>You will see something like this:</p> <pre><code>started roslaunch server http://192.168.25.110:60968/

SUMMARY
========

......
......

NODES
  /
    rplidarNode (rplidar_ros/rplidarNode)

......
......
RPLidar health status : 0
</code></pre> </li> 
   <li> <p>Open another terminal and type:</p> <pre><code>rostopic list
</code></pre> <p>Check if the topic <strong>/scan</strong> shows up. </p> </li> 
   <li> <p>Type the following command to see if there is anything shows up.</p> <pre><code>rostopic echo /scan
</code></pre> <p>You will see something similar on your terminal:</p> <p><a href="doc/laser_scan_sample.png" target="_blank"><img src="doc/laser_scan_sample.png" alt="laser scan sample" style="max-width:100%;" /></a></p> <p>Type <code>ctrl + c</code> to exit when you have finished checking.</p> </li> 
   <li>If you have finished all the steps, type <code>ctrl + c</code> on all the terminal you have opened to exit.</li> 
  </ol> </li> 
</ul> 
<p align="right"> <b><a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a>End of laser scan test</b> | <a href="#">BACK TO TOP</a> </p> 
<h3> <a id="camera-joint-control-test" class="anchor" href="#camera-joint-control-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Camera Joint control test</h3> 
<p><a name="user-content-camera-joint-control-step1"></a></p> 
<h4> <a id="step-1-check-hardware-setup-to-control-cameras-heading" class="anchor" href="#step-1-check-hardware-setup-to-control-cameras-heading" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check hardware setup to control camera's heading</code> </h4> 
<p>The recent version of Angel's camera joint consists of a motor control module same as the one used to control wheels. (a motor <strong>JGB37 3530B</strong> + <strong>3in1 board</strong>). This motor control module must also be connected to mega2560.</p> 
<p><strong>Cautions!!</strong></p> 
<p><strong>We do not have <code>limit switch</code> on the joint, which is supposed to prevent Angel's joint or housing damages from operators giving position commands that the joint cannot reach.<br /> So please check the following list carefully.</strong></p> 
<p>Mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Check your motor model. Make sure you have installed the right one.</li> 
 <li>[ ] Motor control module is well prepared. The motor connects to driver correctly.</li> 
 <li>[ ] Motor control module connects to mega2560 correctly.</li> 
 <li>[ ] <strong>Please make sure Angel's camera is headed in Z direction, that is, toward the sky.</strong> </li> 
</ul> 
<p><strong>Note: If you have any doubt or not sure the hardware wirings, please review system diagrams and double check before going to next step.</strong></p> 
<p><a name="user-content-camera-joint-control-step2"></a></p> 
<h4> <a id="step-2-uploading-firmware-to-camera-joint-driver-3in1-board" class="anchor" href="#step-2-uploading-firmware-to-camera-joint-driver-3in1-board" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Uploading firmware to camera joint driver 3in1 board</code> </h4> 
<p>Firmware for joint position control is placed in the following folder.</p> 
<pre><code>/mcu_control/camera_joint_control/src
</code></pre> 
<ul> 
 <li> <p>Upload firmware to camera joint driver</p> 
  <ol> 
   <li>Open <code>vnh5019_camera_joint.ino</code> with Arduino IDE on your PC. </li> 
   <li> <p>Modify Arduino PWM Frequency in Arduino IDE. Copy</p> <pre><code>/mcu_control/wiring.c
</code></pre> <p>to ~/arduino-1.6.5/hardware/arduino/avr/cores/arduino.</p> <p>Make sure the following code is on line 31 or 32 in wiring.c. </p> <pre><code> #define MICROSECONDS_PER_TIMER0_OVERFLOW (clockCyclesToMicroseconds(8 * 256))
</code></pre> </li> 
   <li>Set your upload target to <strong>promini</strong>.</li> 
   <li>Choose your <strong>port</strong> carefully.</li> 
   <li>Go for it! Click upload! If you get any error when PC uploading, 
    <ul> 
     <li>Please look into the errors carefully.</li> 
     <li>Please check the port you choose.</li> 
     <li>Please make sure you have put all the libraries into the folder. If you get the message about library conflicts, please find out those files and delete the old one.</li> 
    </ul> </li> 
  </ol> </li> 
</ul> 
<p><a name="user-content-camera-joint-control-step3"></a></p> 
<h4> <a id="step-3-control-cameras-heading" class="anchor" href="#step-3-control-cameras-heading" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 3 <code>Control camera's heading</code> </h4> 
<p>To be determine !</p> 
<ul> 
 <li> <p>Launch camera heading control</p> 
  <ol> 
   <li> <p>Open a terminal up on you PC and type</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> <p>to access to angel.</p> </li> 
   <li> <p>Launch base driver. (Camera is connected to mega_base.) Type the following command.</p> <pre><code>roslaunch angelbot angelbot_sanitytest.launch
</code></pre> <p>check if no error pops up.</p> </li> 
   <li> <p>Open another terminal and access into odroid by entering ssh commands (step1) then type:</p> <pre><code>rostopic list
</code></pre> <p>Check if the following topic is on the list.</p> <pre><code>/camera_joint_position  
</code></pre> </li> 
   <li> <p>Type the following command to move the camera joint axis forward to 30 degree from the initial angle of 0 degree.</p> <pre><code>rostopic pub /camera_joint_position ... position: 30
</code></pre> </li> 
   <li> <p>Type the following command to move the camera joint axis backward to -30 degree from the previous angle of 30 degree.</p> <pre><code>rostopic pub /camera_joint_position ... position: -30
</code></pre> </li> 
   <li> <p>After you have finished controlling camera_joint, <strong>please drive camera joint axis to the initial angle of 0 by giving 0 degree command.</strong> The camera is supposed to look toward the sky when you turn off Angel's power.</p> <pre><code>rostopic pub /camera_joint_position ... position: 0
</code></pre> </li> 
   <li>If you have finished all the steps, type <code>ctrl + c</code> on all the termianl you opened to exit.</li> 
  </ol> </li> 
</ul> 
<h3> <a id="security-sensing-test" class="anchor" href="#security-sensing-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Security Sensing test</h3> 
<p><a name="user-content-security-sensing-test-step1"></a></p> 
<h4> <a id="step-1-check-sensor-setup" class="anchor" href="#step-1-check-sensor-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check sensor setup</code> </h4> 
<p>Mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Check your sensor model. Make sure you have installed the right one.</li> 
 <li>[ ] Make sure you have wired each sensor to the correct pin on mega2560.<br /> </li> 
</ul> 
<p><a name="user-content-security-sensing-test-step2"></a></p> 
<h4> <a id="step-2-read-each-sensor" class="anchor" href="#step-2-read-each-sensor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Read each sensor</code> </h4> 
<p>To be continue ...</p> 
<ul> 
 <li> <p>Launch sensor reading</p> 
  <ol> 
   <li> <p>Open a terminal up on you PC and type</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> <p>to access to angel.</p> </li> 
   <li> <p>Launch base driver. (Sensors are connected to mega_base.) Type the following command.</p> <pre><code>roslaunch angelbot angelbot_sanitytest.launch
</code></pre> <p>check if no error pops up.</p> </li> 
   <li> <p>Open another terminal and access into odroid by entering ssh commands (step1) then type:</p> <pre><code>rostopic list
</code></pre> <p>The following list should appear. </p> <pre><code>/SensorActiveList
/CurTemperature
/CurHumidity
/MotionDetection
/FlameDetection
/MQ2CO
/DustDetection
</code></pre> </li> 
   <li><p>Test these sensors by echoing each ros topics <code>one by one</code>. </p></li> 
  </ol> 
  <ul> 
   <li> <p>MQ2.</p> <p>Type the following command on a terminal.</p> <pre><code>rostopic echo /MQ2CO
</code></pre> <p>You should see something like this.</p> <p><a href="doc/mq2co.png" target="_blank"><img src="doc/mq2co.png" alt="MQ2CO" style="max-width:100%;" /></a></p> <p>You can spray some gas material to see the value changing.</p> </li> 
   <li> <p>DHT22</p> <p>Type the following command on a terminal.</p> <pre><code>rostopic echo /CurTemperature
</code></pre> <pre><code>rostopic echo /CurHumidity
</code></pre> <p>You should see something like this. (Unit: temperature: celsius; humidity: %)</p> <p><strong>Check whether the values are reasonable.</strong></p> <p><a href="doc/curtemperature.png" target="_blank"><img src="doc/curtemperature.png" alt="DHT22-Temperature" style="max-width:100%;" /></a></p> <p><a href="doc/curhumidity.png" target="_blank"><img src="doc/curhumidity.png" alt="DHT22-Humidity" style="max-width:100%;" /></a></p> <p>You can blow on the senser to see the value changing.</p> </li> 
   <li> <p>Flame sensor</p> <p>Type the following command on a terminal.</p> <pre><code>rostopic echo /FlameDetection
</code></pre> <p>You should see something like this.</p> <p><a href="doc/flamedetection.png" target="_blank"><img src="doc/flamedetection.png" alt="flame detection" style="max-width:100%;" /></a></p> <p><strong>Use a lighter to test it.</strong></p> </li> 
   <li><p>PM2.5 -- not availble yet</p></li> 
   <li> <p>PIR</p> <p>Type the following command on a terminal.</p> <pre><code>rostopic echo /MotionDedection
</code></pre> <p>You should see something like this.</p> <p><a href="doc/motiondetection.png" target="_blank"><img src="doc/motiondetection.png" alt="PIR" style="max-width:100%;" /></a></p> <p><strong>Simply wave your hand in front of the PIR sensor. The value on the screen would be <code>true</code> if something moves.</strong></p> </li> 
   <li>If you have finished all the steps, type <code>ctrl + c</code> on all the termianl you opened to exit.</li> 
  </ul> </li> 
</ul> 
<h3> <a id="camera-image-topic-test" class="anchor" href="#camera-image-topic-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Camera image topic test</h3> 
<p><a name="user-content-camera-image-topic-test-step1"></a></p> 
<h4> <a id="step-1-check-camera-setup" class="anchor" href="#step-1-check-camera-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check camera setup</code> </h4> 
<p>Mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Check your camera model. Make sure you have installed the right one.</li> 
 <li>[ ] Camera shoud be connected to the hub.<br /> </li> 
</ul> 
<p><a name="user-content-camera-image-topic-test-step2"></a></p> 
<h4> <a id="step-2-run-camera-on-odroid" class="anchor" href="#step-2-run-camera-on-odroid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Run camera on odroid</code> </h4> 
<ul> 
 <li> <p>Launch image capturing</p> 
  <ol> 
   <li> <p>Open a terminal up on you PC and type</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> <p>to access to angel.</p> </li> 
   <li> <p>The next step should be starting communication between odroid and the camera through ROS. Open a terminal and type the following command.</p> <pre><code>roslaunch angelbot usb_camera.launch
</code></pre> <p>If everything goes right, you will see something like this</p> <pre><code>started roslaunch server http://192.168.25.110:37226/

SUMMARY
========

PARAMETERS
 ...
 * /uvc_camera_node/device: /dev/video0
 * /uvc_camera_node/exposure: 0
 * /uvc_camera_node/frame_rate: 20
 * /uvc_camera_node/gain: 100
 * /uvc_camera_node/height: 240
 * /uvc_camera_node/width: 320

NODES
  /
    uvc_camera_node (uvc_camera/uvc_camera_node)
...

core service [/rosout] found
process[uvc_camera_node-1]: started with pid [3439]
...
opening /dev/video0
pixfmt 0 = 'MJPG' desc = 'MJPEG'
  discrete: 640x480:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 1280x960:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 800x600:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 352x288:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 320x240:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 176x144:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 160x120:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 1280x720:   1/30 1/25 1/20 1/15 1/10 1/5 
pixfmt 1 = 'YUYV' desc = 'YUV 4:2:2 (YUYV)'
  discrete: 640x480:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 1280x960:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 800x600:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 352x288:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 320x240:   1/30 1/25 1/20 1/15 1/10 1/5 
  discrete: 176x144:   1/15 1/10 1/5 
  discrete: 160x120:   1/15 1/10 1/5 
  discrete: 1280x720:   1/12 1/10 1/5 
  int (Brightness, 0, id = 980900): -255 to 255 (1)
  int (Contrast, 0, id = 980901): 0 to 30 (1)
  int (Saturation, 0, id = 980902): 0 to 127 (1)
  int (Hue, 0, id = 980903): -16000 to 16000 (1)
  bool (White Balance Temperature, Auto, 0, id = 98090c): 0 to 1 (1)
  int (Gamma, 0, id = 980910): 20 to 250 (10)
  menu (Power Line Frequency, 0, id = 980918): 0 to 2 (1)
    0: Disabled
    1: 50 Hz
    2: 60 Hz
  int (White Balance Temperature, 16, id = 98091a): 2500 to 7000 (1)
  int (Sharpness, 0, id = 98091b): 0 to 3 (1)
  int (Backlight Compensation, 0, id = 98091c): 0 to 2 (1)
  menu (Exposure, Auto, 0, id = 9a0901): 0 to 3 (1)
  int (Exposure (Absolute), 16, id = 9a0902): 2 to 5000 (1)
  bool (Exposure, Auto Priority, 0, id = 9a0903): 0 to 1 (1)
</code></pre> </li> 
   <li> <p>Open another terminal and type:</p> <pre><code>rostopic list
</code></pre> <p>Check if there is a topic name <code>/camera/image_raw</code>. </p> </li> 
   <li> <p>Type the following command to see if there is anything shows up.</p> <pre><code>rostopic echo /camera/image_raw
</code></pre> <p>You will see something similar on your terminal:</p> <p><a href="doc/camera_image_topic.png" target="_blank"><img src="doc/camera_image_topic.png" alt="camera image sample" style="max-width:100%;" /></a></p> </li> 
   <li>If you have finished all the steps, type <code>ctrl + c</code> on all the termianl you opened to exit.</li> 
  </ol> </li> 
</ul> 
<p align="right"> <b><a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a>End of Module test</b> | <a href="#">BACK TO TOP</a> </p> 
<h2> <a id="functional-test" class="anchor" href="#functional-test" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Functional test</h2> 
<p>After you go over all the module tests, Angel is now capable of perform some function. This section is to give a basic instruction of test iconic functions. If you haven't passed the module tests, <strong>please go back and finish tests before continue.</strong></p> 
<p align="center"> <b><a href="#tele-operation-test">Tele-operation test</a></b> | <b><a href="#auto-docking-test">Auto docking test</a></b> </p> 
<h3> <a id="tele-operation" class="anchor" href="#tele-operation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tele-operation</h3> 
<p><a name="user-content-tele-operation-test-step1"></a></p> 
<h4> <a id="step-1-check-requirements-of-tele-operation" class="anchor" href="#step-1-check-requirements-of-tele-operation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check requirements of tele-operation</code> </h4> 
<ul> 
 <li>[ ] Check if you pass all the module tests. </li> 
 <li>[ ] Make sure you have &quot;teleop&quot; app on you cell phone.<br /> </li> 
</ul> 
<p><a name="user-content-tele-operation-test-step2"></a></p> 
<h4> <a id="step-2-tele-operating-angel" class="anchor" href="#step-2-tele-operating-angel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Tele-operating Angel</code> </h4> 
<ol> 
 <li> <p>Use ssh command to access to odroid</p> <pre><code>ssh odroid@192.168.25.110
</code></pre> </li> 
 <li> <p>Launching sequence to drive angel around and scanning.</p> <pre><code>roslaunch angelbot angelbot_functionaltest.launch
</code></pre> </li> 
 <li> <p>Check topics</p> <pre><code>rostopic list
</code></pre> <p>Make sure /andbot/cmd_vel is on the list.</p> </li> 
 <li>Bring up your cell phone. Open teleop app and type <code>http://192.168.25.110:11311</code> to access to angel.</li> 
 <li>Put angel in a open area with large spaces and begin the following test Tap on the screen and: 
  <ul> 
   <li>Forward direction: Drive angel to move forward 2 meters.</li> 
   <li>Backward dirction: Drive angel to move backward back to origin.</li> 
   <li>Rotation (left): Drive angel to rotate 3 rounds in the counter-clockwise direction.</li> 
   <li>Rotation (right): Drive angel to rotate 3 rounds in teh clockwise direction. </li> 
  </ul> </li> 
 <li>Check if there is a map shows up.</li> 
 <li>If you have finished all the steps, close you app on the phone and type <code>ctrl + c</code> on all the termianl you opened to exit.</li> 
</ol> 
<h3> <a id="auto-docking" class="anchor" href="#auto-docking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Auto docking</h3> 
<p>To be determine.</p> 
<p><a name="user-content-auto-docking-test-step1"></a></p> 
<h4> <a id="step-1-check-docking-module-setup" class="anchor" href="#step-1-check-docking-module-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 <code>Check docking module setup</code> </h4> 
<p>Mark the following checklist yourself when you have finished each setup.</p> 
<ul> 
 <li>[ ] Make sure there are auto docking module on angel. </li> 
 <li>[ ] Docking station is well-built.<br /> </li> 
</ul> 
<p><a name="user-content-auto-docking-test-step2"></a></p> 
<h4> <a id="step-2-launch-auto-docking-sequence" class="anchor" href="#step-2-launch-auto-docking-sequence" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 <code>Launch auto docking sequence</code> </h4> 
<ol> 
 <li>Please redo Function: Tele-operation step 1 ~ 2.</li> 
 <li>Use your cell phone to drive angel to about <code>2.5 meter</code> in front of the docking station.</li> 
 <li> <p>Launching <code>charging mode</code> to enable auto docking function. Open another terminal and ssh into angel and type the following command.</p> <pre><code>rosservice call /DockingEnable true
</code></pre> </li> 
 <li>See if angel is approaching the ducking station and finally touches the charging station.</li> 
 <li> <p>If you carry out step 4 successfully, please type the following command to end up charging mode.</p> <pre><code>rosservice call /DockingEnable false
</code></pre> </li> 
 <li>If you have finished all the steps, type <code>ctrl + c</code> on all the termianl you opened to exit. </li> 
</ol> 
<p align="right"> <b><a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a>End of Function test</b> | <a href="#">BACK TO TOP</a> </p> 
<h2> <a id="appendix" class="anchor" href="#appendix" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Appendix</h2> 
<ul> 
 <li>udev rules on odroid. <strong><a href="https://github.com/Muchun-Yen/Assign-symbolic-links-for-auto-mounting-USB-devices-by-udev">(reference)</a></strong> </li> 
</ul> 
<pre><code>KERNEL==&quot;ttyUSB*&quot;, ATTRS{idProduct}==&quot;6001&quot;, ATTRS{idVendor}==&quot;0403&quot;, ATTRS{devpath}==&quot;1.1&quot;, SYMLINK+=&quot;imu&quot;
KERNEL==&quot;ttyACM*&quot;, ATTRS{idProduct}==&quot;0042&quot;, ATTRS{idVendor}==&quot;2341&quot;, ATTRS{devpath}==&quot;1.2.1.1&quot;, SYMLINK+=&quot;mega_base&quot;
KERNEL==&quot;ttyUSB*&quot;, ATTRS{idProduct}==&quot;6001&quot;, ATTRS{idVendor}==&quot;0403&quot;, ATTRS{devpath}==&quot;1.2.1.2&quot;, SYMLINK+=&quot;rplidar&quot;
</code></pre> 
<h2> <a id="team" class="anchor" href="#team" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Team</h2> 
<p><a href="https://github.com/Weber-Hsu">Weber Hsu</a> | <a href="https://github.com/clchuadrobot">CL Chu</a> | <a href="https://github.com/piliwilliam0306">William Chen</a> | <a href="https://github.com/ChingHengWang">Zach Wang</a> | <a href="https://github.com/EricWilliamKo">Eric Ko</a> | <a href="https://github.com/Muchun-Yen">Muchun Yen</a> | <a href="https://github.com/wennycooper">Kevin Kuei</a></p> 
<h2> <a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2> 
<p>Copyright &copy; 2016 Advanced Robotics Corporation</p> 
<p align="right"> <a href="doc/AR.png" target="_blank"><img src="doc/AR.png" alt="AR" style="max-width:100%;" /></a><a href="#">BACK TO TOP</a> </p>
</body>
</html>
